<div class="page-body">
  <div class="page-header">
    <h2><i class="icon fa-solid fa-ticket"></i> Eventos</h2>
    <app-search (searchChange)="onSearchChange($event)" class="search-event"></app-search>
  </div>
  <div class="events container-fluid">
    <div *ngIf="events.length > 0; else noEvents" class="row">
      <div
        *ngFor="let event of events"
        class="event-col col-xl-3 col-md-6 col-sm-12"
      >
        <div class="event-card">
          <div class="event-thumb">
            <img [src]="event.image" [alt]="event.title" />
            
            <span
              class="status"
              [class.ativo]="event.status === 'ativo'"
              [class.inativo]="event.status === 'inativo'"
            >
              {{ event.status === "ativo" ? "Evento Ativo" : "Evento Inativo" }}
            </span>
          </div>
          <div class="event-info">
            <h3>{{ event.title }}</h3>
            <p class="event-description">{{event.description | truncate: 100}}</p>
            <div class="event-footer">
              <p class="event-date">
                <strong>Publicado em</strong>
                <span>{{
                  event.publicationDate | date : "dd/MM/yyyy HH:mm"
                }}</span>
              </p>
              <div class="actions">
                <button (click)="editEvent(event.id)">
                  <i class="fa-solid fa-pen"></i>
                </button>
                <button (click)="confirmDelete(event.id, event.title)">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <ng-template #noEvents>
      <p>Nenhum evento dispon√≠vel no momento.</p>
    </ng-template>
  </div>
  <app-pagination
    [currentPage]="currentPage"
    [totalItems]="totalItems"
    [itemsPerPage]="itemsPerPage"
    (pageChange)="changePage($event)"
  ></app-pagination>
</div>
